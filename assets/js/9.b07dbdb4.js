(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{366:function(s,n,a){"use strict";a.r(n);var t=a(44),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"简单计算器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单计算器"}},[s._v("#")]),s._v(" 简单计算器")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://codeup.cn/problem.php?cid=100000602&pid=0",target:"_blank",rel:"noopener noreferrer"}},[s._v("题目链接"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("提示：")])]),s._v(" "),a("p",[a("strong",[s._v("中缀表达式转后缀表达式：")])]),s._v(" "),a("p",[a("strong",[s._v("1、设立一个操作符栈s，用来暂时存放操作符；设立一个数组或者队列q，用来存放后缀表达式；")])]),s._v(" "),a("p",[a("strong",[s._v("2、从左往右扫描中缀表达式，如果遇到操作数（操作数若为多位，则需要累加合并在一块，再入队），则将操作数加入后缀表达式。")])]),s._v(" "),a("p",[a("strong",[s._v("3、如果遇到操作符op，将操作符op与此时操作符栈s的栈顶的操作符，进行比较:")])]),s._v(" "),a("p",[a("strong",[s._v("若op的优先级高于栈顶操作符的优先级，则压入操作符栈s；")])]),s._v(" "),a("p",[a("strong",[s._v("若op的优先级小于或者等于栈顶操作符的优先级，则将操作符栈从栈顶开始扫描，出栈加入后缀表达式，直到op的优先级大于栈中的操作符的优先级；")])]),s._v(" "),a("p",[a("strong",[s._v("4、重复上述操作，若中缀表达式扫描结束，将操作符栈剩下的操作符依次出栈，按出栈顺序加入至后缀表达式；")])]),s._v(" "),a("p",[a("strong",[s._v("后缀表达式求值：")])]),s._v(" "),a("p",[a("strong",[s._v("从左往右扫描后缀表达式，若是操作数，则入数栈；若是操作符，则从数栈中连续弹出两个操作数，按照操作符，进行运算（后出栈的为第一操作数，先出栈的为第二操作数），将运算结果加入数栈。直至后缀表达式扫描完毕，数栈中此时只会存一个数，改数即为结果。")])]),s._v(" "),a("p",[a("strong",[s._v("AC代码")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<vector>\n#include<map>\n#include<cctype>\n#include<set>\n#include<queue>\n#include<stack>\nusing namespace std;\n/*\n测试数据\n1 + 3 * 5 / 4 * 8 / 9 * 6 * 2 / 3 / 7 + 3 * 8 / 2       //14.90\n2 * 3 / 49                                              //0.12\n5 + 2 * 3 / 49 - 4 /13                                  //4.81\n*/\nstruct node\n{\n    double num;//操作数\n    char op;//操作符\n    int flag;//1表示操作数   0表示操作符\n};\nstring str;\nqueue<node>q;//后缀表达式队列\nstack<node>s;//操作符栈\nmap<char,int> op;\nvoid change()\n{\n    int dit=0;\n    for(int i=0; i<str.length(); i++)\n    {\n        node t;\n        dit=0;\n        if(str[i]>='0'&&str[i]<='9')\n        {\n            dit=str[i]-'0';\n            i++;\n            while(str[i]>='0'&&str[i]<='9')\n            {\n                dit=dit*10+str[i]-'0';\n                i++;\n            }\n            t.num=dit;\n            t.flag=1;\n            q.push(t);\n            i--;\n        }\n        else\n        {\n            t.flag=0;\n            t.op=str[i];\n            while(!s.empty()&&op[s.top().op]>=op[t.op])\n            {\n                q.push(s.top());\n                s.pop();\n            }\n            s.push(t);\n        }\n    }\n    while(!s.empty())\n    {\n        q.push(s.top());\n        s.pop();\n    }\n}\nvoid cal()\n{\n    while(!q.empty())\n    {\n        if(q.front().flag==1)\n        {\n            s.push(q.front());\n            q.pop();\n        }\n        else\n        {\n            double x,y;\n            y=s.top().num;\n            s.pop();\n            x=s.top().num;\n            s.pop();\n            node t;\n            if(q.front().op=='/')\n                x=x/y;\n            else if(q.front().op=='*')\n                x=x*y;\n            else if(q.front().op=='+')\n                x=x+y;\n            else if(q.front().op=='-')\n                x=x-y;\n            t.flag=1;\n            t.num=x;\n            s.push(t);\n            q.pop();\n        }\n    }\n    printf(\"%.2lf\\n\",s.top().num);\n}\nint main()\n{\n    op['/']=op['*']=2;\n    op['-']=op['+']=1;\n    while(getline(cin,str))\n    {\n        if(str.length()==1&&str[0]=='0')\n            break;\n        for(string::iterator it=str.begin(); it!=str.end(); it++)//将空格去掉\n            if(*it==' ')\n                str.erase(it);\n//        cout<<s<<endl;\n        change();//将中缀表达式转化为后缀表达式\n        cal();//后缀表达式求值\n        while(!q.empty())\n        {\n            q.pop();\n        }\n        while(!s.empty())\n        {\n            s.pop();\n        }\n    }\n    return 0;\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);